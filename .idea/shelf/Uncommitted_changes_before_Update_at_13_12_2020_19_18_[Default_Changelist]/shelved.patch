Index: app/src/main/java/com/example/tinnhn/ui/main/AddFriendChildFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tinnhn.ui.main;\r\n\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.tinnhn.Friends;\r\nimport com.example.tinnhn.GoiYKetBan;\r\nimport com.example.tinnhn.GoiYKetBanAdapter;\r\nimport com.example.tinnhn.R;\r\nimport com.example.tinnhn.SearchFriendsActivity;\r\nimport com.example.tinnhn.taikhoan.TaiKhoan;\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport static android.content.Context.MODE_PRIVATE;\r\n\r\npublic class AddFriendChildFragment extends Fragment {\r\n\r\n    private View mRoot;\r\n    private DatabaseReference mDatabase;\r\n    SharedPreferences sharedPreferences;\r\n    SharedPreferences.Editor editor;\r\n    String EmailDaKetBan;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        mRoot = inflater.inflate(R.layout.fragment_add_friends_child, container, false);\r\n        final ArrayList<GoiYKetBan> goiYKetBanArrayList = new ArrayList<>();\r\n        final ArrayList<TaiKhoan> goiYKetBanArrayList_check = new ArrayList<>();\r\n        final ArrayList<Friends> arrFriended_check = new ArrayList<>();\r\n\r\n        ListView list_GoiYKetBan = mRoot.findViewById(R.id.list_GoiYKetBan);\r\n        final GoiYKetBanAdapter goiYKetBanAdapter = new GoiYKetBanAdapter(getActivity(), R.layout.list_goi_y_item, goiYKetBanArrayList);\r\n        list_GoiYKetBan.setAdapter(goiYKetBanAdapter);\r\n        mDatabase = FirebaseDatabase.getInstance().getReference();\r\n        sharedPreferences = getContext().getSharedPreferences(\"GhiNhoDangNhap\", MODE_PRIVATE);\r\n        editor = sharedPreferences.edit();\r\n\r\n        FloatingActionButton btnThemBanBangEmail = mRoot.findViewById(R.id.fab);\r\n\r\n        btnThemBanBangEmail.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getActivity(), SearchFriendsActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        String EmailUser = sharedPreferences.getString(\"tenTaiKhoan\", \"\");\r\n        String DiaChiUser = sharedPreferences.getString(\"DiaChiUser\", \"\");\r\n\r\n        mDatabase.child(\"BanBe\").addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                Friends friends1 = snapshot.getValue(Friends.class);\r\n                arrFriended_check.clear();\r\n                arrFriended_check.add(friends1);\r\n                for (int i = 0; i < arrFriended_check.size(); i++) {\r\n                    if (arrFriended_check.get(i).EmailUser.equals(EmailUser)) {\r\n                        EmailDaKetBan = arrFriended_check.get(i).email;\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n                Friends friends = snapshot.getValue(Friends.class);\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        mDatabase.child(\"TaiKhoan\").addChildEventListener(new ChildEventListener() {\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n                TaiKhoan goiYKetBan = snapshot.getValue(TaiKhoan.class);\r\n                goiYKetBanArrayList_check.clear();\r\n                goiYKetBanArrayList_check.add(goiYKetBan);\r\n                for (int i = 0; i < goiYKetBanArrayList_check.size(); i++) {\r\n                    if (goiYKetBanArrayList_check.get(i).diaChi.contains(DiaChiUser) && !goiYKetBanArrayList_check.get(i).email.equals(EmailUser) && !goiYKetBanArrayList_check.get(i).email.equals(EmailDaKetBan)) {\r\n                        goiYKetBanArrayList.add(new GoiYKetBan(goiYKetBanArrayList_check.get(i).idTaiKhoan, goiYKetBanArrayList_check.get(i).tenTaiKhoan,\r\n                                goiYKetBanArrayList_check.get(i).email, goiYKetBanArrayList_check.get(i).diaChi, goiYKetBanArrayList_check.get(i).hinhDaiDien));\r\n                    }\r\n                }\r\n                goiYKetBanAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot snapshot) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        return mRoot;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tinnhn/ui/main/AddFriendChildFragment.java	(revision 672ea5bca7c911273ef879e40a2c2e06c2c726de)
+++ app/src/main/java/com/example/tinnhn/ui/main/AddFriendChildFragment.java	(date 1607757312272)
@@ -107,8 +107,7 @@
                 goiYKetBanArrayList_check.add(goiYKetBan);
                 for (int i = 0; i < goiYKetBanArrayList_check.size(); i++) {
                     if (goiYKetBanArrayList_check.get(i).diaChi.contains(DiaChiUser) && !goiYKetBanArrayList_check.get(i).email.equals(EmailUser) && !goiYKetBanArrayList_check.get(i).email.equals(EmailDaKetBan)) {
-                        goiYKetBanArrayList.add(new GoiYKetBan(goiYKetBanArrayList_check.get(i).idTaiKhoan, goiYKetBanArrayList_check.get(i).tenTaiKhoan,
-                                goiYKetBanArrayList_check.get(i).email, goiYKetBanArrayList_check.get(i).diaChi, goiYKetBanArrayList_check.get(i).hinhDaiDien));
+                        goiYKetBanArrayList.add(new GoiYKetBan(goiYKetBanArrayList_check.get(i).idTaiKhoan, goiYKetBanArrayList_check.get(i).tenTaiKhoan, goiYKetBanArrayList_check.get(i).email, goiYKetBanArrayList_check.get(i).diaChi, goiYKetBanArrayList_check.get(i).hinhDaiDien));
                     }
                 }
                 goiYKetBanAdapter.notifyDataSetChanged();
Index: .idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleMigrationSettings\" migrationVersion=\"1\" />\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"testRunner\" value=\"PLATFORM\" />\r\n        <option name=\"distributionType\" value=\"DEFAULT_WRAPPED\" />\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"gradleJvm\" value=\"1.8\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n            <option value=\"$PROJECT_DIR$/app\" />\r\n          </set>\r\n        </option>\r\n        <option name=\"resolveModulePerSourceSet\" value=\"false\" />\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/gradle.xml	(revision 672ea5bca7c911273ef879e40a2c2e06c2c726de)
+++ .idea/gradle.xml	(date 1607780252738)
@@ -15,6 +15,7 @@
           </set>
         </option>
         <option name="resolveModulePerSourceSet" value="false" />
+        <option name="useQualifiedModuleNames" value="true" />
       </GradleProjectSettings>
     </option>
   </component>
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    package=\"com.example.tinnhn\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.RECORD_AUDIO\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n    <uses-permission android:name=\"android.permission.READ_PHONE_STATE\" />\r\n    <uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\" />\r\n    <uses-permission android:name=\"android.permission.MODIFY_AUDIO_SETTINGS\"/>\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@drawable/logo_app\"\r\n        android:label=\"Chat Room\"\r\n        android:roundIcon=\"@drawable/logo_app\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\">\r\n        <receiver android:name=\".taikhoan.MyReceiver\">\r\n            <intent-filter>\r\n                <action android:name=\"android.net.conn.CONNECTIVITY_CHANGE\" />\r\n                <action android:name=\"android.net.wifi.WIFI_STATE_CHANGED\" />\r\n            </intent-filter>\r\n        </receiver>\r\n\r\n        <activity android:name=\".SearchMessageActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\"\r\n            />\r\n        <activity\r\n            android:name=\".SearchFriendsActivity\"\r\n            android:parentActivityName=\".MainActivity\"\r\n            android:theme=\"@style/TinNhanMoi\" />\r\n\r\n        <service android:name=\".Call.SinchServices\" />\r\n\r\n        <activity\r\n            android:name=\".taikhoan.LoginActivity\"\r\n            android:label=\"Chat Room\"\r\n            android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity android:name=\".Call.AudioCall\" />\r\n        <activity android:name=\".Call.CuocGoi_Screen\" />\r\n        <activity android:name=\".Call.BaseActivity\" />\r\n        <activity android:name=\".Call.CuocGoiToi_Screen\" />\r\n        <activity android:name=\".MainActivity\" />\r\n        <activity\r\n            android:name=\".Call.GroupHoiThoaiActivity\"\r\n            android:theme=\"@style/TinNhanMoi\" />\r\n        <activity\r\n            android:name=\".HoiThoaiActivity\"\r\n            android:label=\"Tên Người gửi\"\r\n            android:parentActivityName=\".MainActivity\"\r\n            android:theme=\"@style/TinNhanMoi\" />\r\n        <activity\r\n            android:name=\".taikhoan.ThemTinhThanhActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\" />\r\n        <activity\r\n            android:name=\".taikhoan.DangKiActivity\"\r\n            android:theme=\"@style/Theme.AppCompat.DayNight.NoActionBar\" />\r\n        <activity android:name=\".taikhoan.QuenMatKhauActivity\" />\r\n        <activity android:name=\".taikhoan.ThemAnhActivity\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 672ea5bca7c911273ef879e40a2c2e06c2c726de)
+++ app/src/main/AndroidManifest.xml	(date 1607697248240)
@@ -8,7 +8,7 @@
     <uses-permission android:name="android.permission.CAMERA" />
     <uses-permission android:name="android.permission.READ_PHONE_STATE" />
     <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
-    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS"/>
+    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
 
     <application
         android:allowBackup="true"
@@ -24,9 +24,9 @@
             </intent-filter>
         </receiver>
 
-        <activity android:name=".SearchMessageActivity"
-            android:theme="@style/Theme.AppCompat.DayNight.NoActionBar"
-            />
+        <activity
+            android:name=".SearchMessageActivity"
+            android:theme="@style/Theme.AppCompat.DayNight.NoActionBar" />
         <activity
             android:name=".SearchFriendsActivity"
             android:parentActivityName=".MainActivity"
@@ -35,7 +35,7 @@
         <service android:name=".Call.SinchServices" />
 
         <activity
-            android:name=".taikhoan.LoginActivity"
+            android:name=".Splash_Screen"
             android:label="Chat Room"
             android:theme="@style/Theme.AppCompat.DayNight.NoActionBar">
             <intent-filter>
@@ -49,6 +49,9 @@
         <activity android:name=".Call.BaseActivity" />
         <activity android:name=".Call.CuocGoiToi_Screen" />
         <activity android:name=".MainActivity" />
+        <activity
+            android:name=".taikhoan.LoginActivity"
+            android:theme="@style/Theme.AppCompat.DayNight.NoActionBar" />
         <activity
             android:name=".Call.GroupHoiThoaiActivity"
             android:theme="@style/TinNhanMoi" />
@@ -57,14 +60,11 @@
             android:label="Tên Người gửi"
             android:parentActivityName=".MainActivity"
             android:theme="@style/TinNhanMoi" />
-        <activity
-            android:name=".taikhoan.ThemTinhThanhActivity"
-            android:theme="@style/Theme.AppCompat.DayNight.NoActionBar" />
         <activity
             android:name=".taikhoan.DangKiActivity"
             android:theme="@style/Theme.AppCompat.DayNight.NoActionBar" />
         <activity android:name=".taikhoan.QuenMatKhauActivity" />
-        <activity android:name=".taikhoan.ThemAnhActivity" />
+
     </application>
 
 </manifest>
\ No newline at end of file
