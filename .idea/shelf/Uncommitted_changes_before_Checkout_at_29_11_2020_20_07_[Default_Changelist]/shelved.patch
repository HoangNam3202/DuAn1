Index: app/src/main/java/com/example/tinnhn/taikhoan/QuenMatKhauActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.tinnhn.taikhoan;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.CountDownTimer;\r\nimport android.os.Handler;\r\nimport android.text.Editable;\r\nimport android.text.TextWatcher;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.example.tinnhn.R;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.android.material.textfield.TextInputLayout;\r\n\r\nimport static com.example.tinnhn.taikhoan.LoginActivity.dbFirebase;\r\n\r\npublic class QuenMatKhauActivity extends AppCompatActivity {\r\n    public static int xacNhanTaiKhoan = -1;\r\n    public static String idTaiKhoanQMK = \"\";\r\n    EditText edtTenTaiKhoan, edtEmail, edtSoDienThoai;\r\n    TextInputLayout tilMatKhauHienTai;\r\n    TextInputEditText edtMatKhau, edtNhapLaiMatKhau;\r\n    TextView tvTenTaiKhoan, tvEmail, tvSoDienThoai, tvMatKhau, tvNhapLaiMatKhau, tvTieuDe, tvMatKhauHienTai;\r\n    Button btnQuenMatKhau;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_quen_mat_khau);\r\n        Intent intent = getIntent();\r\n        boolean qMK = intent.getExtras().getBoolean(\"QMK\");\r\n        Toast.makeText(this, \"\" + qMK, Toast.LENGTH_SHORT).show();\r\n        if (qMK) {\r\n            QuenMatKhau();\r\n        } else {\r\n            DoiMatKhau();\r\n        }\r\n    }\r\n\r\n    private void DoiMatKhau() {\r\n//        remuse;\r\n        edtTenTaiKhoan = findViewById(R.id.edtTenTaiKhoan);\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtSoDienThoai = findViewById(R.id.edtSoDienThoai);\r\n        edtMatKhau = findViewById(R.id.edtMatKhau);\r\n        edtNhapLaiMatKhau = findViewById(R.id.edtNhapLaiMatKhau);\r\n        btnQuenMatKhau = findViewById(R.id.btnQuenMatKhau);\r\n        tvTenTaiKhoan = findViewById(R.id.tvTenTaiKhoan);\r\n        tvEmail = findViewById(R.id.tvEmail);\r\n        tvSoDienThoai = findViewById(R.id.tvSoDienThoai);\r\n        tvMatKhau = findViewById(R.id.tvMatKhau);\r\n        tvNhapLaiMatKhau = findViewById(R.id.tvNhapLaiMatKhau);\r\n        // kiểm tra nhập hợp lệ\r\n        final String checkTenTaiKhoan = \"[a-zA-Z0-9+]{6,50}\";\r\n        final String checkSoDienThoai = \"0[2-9]\\\\d{8}\";\r\n        final String checkEmail = \"[a-zA-Z0-9.]+@[a-z]+(\\\\.+[a-z]+){1,2}\";\r\n        final String checkMatKhau = \"[a-zA-Z0-9+]{6,300}\";\r\n        final boolean[] kiemTra = new boolean[5];\r\n        int i = 0;\r\n        while (i < 5) {\r\n            kiemTra[i] = false;\r\n            i++;\r\n        }\r\n        edtTenTaiKhoan.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkTenTaiKhoan)) {\r\n                    tvTenTaiKhoan.setText(\"\");\r\n                    tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[0] = true;\r\n                } else {\r\n                    tvTenTaiKhoan.setText(getResources().getString(R.string.err_ten_tai_khoan));\r\n                    tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[0] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtEmail.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkEmail)) {\r\n                    tvEmail.setText(\"\");\r\n                    tvEmail.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[1] = true;\r\n                } else {\r\n                    tvEmail.setText(\"Email chưa hợp lệ\");\r\n                    tvEmail.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[1] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtSoDienThoai.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkSoDienThoai)) {\r\n                    tvSoDienThoai.setText(\"\");\r\n                    tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[2] = true;\r\n                } else {\r\n                    tvSoDienThoai.setText(\"Chưa hợp lệ\");\r\n                    tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorOrange));\r\n                    kiemTra[2] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtMatKhau.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkMatKhau)) {\r\n                    tvMatKhau.setText(\"\");\r\n                    tvMatKhau.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[3] = true;\r\n                } else {\r\n                    tvMatKhau.setText(getResources().getString(R.string.err_mat_khau));\r\n                    tvMatKhau.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[3] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtNhapLaiMatKhau.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkMatKhau) && s.toString().equals(edtMatKhau.getText().toString())) {\r\n                    tvNhapLaiMatKhau.setText(\"\");\r\n                    tvNhapLaiMatKhau.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[4] = true;\r\n                } else {\r\n                    tvNhapLaiMatKhau.setText(\"Chưa khớp mật khẩu\");\r\n                    tvNhapLaiMatKhau.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[4] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        //\r\n        btnQuenMatKhau.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n//                if (kiemTra[0] && kiemTra[1] && kiemTra[2] && kiemTra[3] && kiemTra[4]) {\r\n//                    String tenTaiKhoan, email, soDienThoai, matKhau, nhapLaiMatKhau;\r\n//                    tenTaiKhoan = edtTenTaiKhoan.getText().toString().trim();\r\n//                    email = edtEmail.getText().toString().trim();\r\n//                    soDienThoai = edtSoDienThoai.getText().toString().trim();\r\n//                    matKhau = edtMatKhau.getText().toString().trim();\r\n//                    nhapLaiMatKhau = edtNhapLaiMatKhau.getText().toString().trim();\r\n//                    if (matKhau.equals(nhapLaiMatKhau)) {\r\n//                        dbFirebase.KiemTraTaiKhoan(tenTaiKhoan, email, soDienThoai);\r\n//                        //\r\n//                        final Dialog dialog = new Dialog(QuenMatKhauActivity.this);\r\n//                        dialog.setContentView(R.layout.dialog_loading);\r\n//                        dialog.show();\r\n//                        new CountDownTimer(1300, 100) {\r\n//                            @Override\r\n//                            public void onTick(long millisUntilFinished) {\r\n//                            }\r\n//\r\n//                            @Override\r\n//                            public void onFinish() {\r\n//                                dialog.dismiss();\r\n//                            }\r\n//                        }.start();\r\n//                        //\r\n//                        new Handler().postDelayed(new Runnable() {\r\n//                            @Override\r\n//                            public void run() {\r\n//                                if (xacNhanTaiKhoan == 0) {\r\n//                                    Toast.makeText(QuenMatKhauActivity.this, \"OK men\", Toast.LENGTH_SHORT).show();\r\n//                                    edtTenTaiKhoan.setEnabled(false);\r\n//                                    edtEmail.setEnabled(false);\r\n//                                    edtSoDienThoai.setEnabled(false);\r\n//                                    dbFirebase.DoiMatKhau(idTaiKhoanQMK, matKhau);\r\n//                                    finish();\r\n//                                } else {\r\n//                                    if (xacNhanTaiKhoan == 1) {\r\n//                                        tvTenTaiKhoan.setText(\"Sai tên tài khoản\");\r\n//                                        tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorDanger));\r\n//                                    }\r\n//                                    if (xacNhanTaiKhoan == 2) {\r\n//                                        tvEmail.setText(\"Sai email\");\r\n//                                        tvEmail.setTextColor(getResources().getColor(R.color.colorDanger));\r\n//                                    }\r\n//                                    if (xacNhanTaiKhoan == 3) {\r\n//                                        tvSoDienThoai.setText(\"Sai số điện thoại\");\r\n//                                        tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorOrange));\r\n//                                    }\r\n//                                    if (xacNhanTaiKhoan == -1) {\r\n//                                        tvTenTaiKhoan.setText(\"Kiểm tra lại thông tin\");\r\n//                                        tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorDanger));\r\n//                                        tvEmail.setText(\"Kiểm tra lại thông tin\");\r\n//                                        tvEmail.setTextColor(getResources().getColor(R.color.colorDanger));\r\n//                                        tvSoDienThoai.setText(\"Kiểm tra lại thông tin\");\r\n//                                        tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorOrange));\r\n////                                        Toast.makeText(QuenMatKhauActivity.this, \"Không tìm thấy tài khoản :(\", Toast.LENGTH_SHORT).show();\r\n//                                    }\r\n//                                }\r\n//                            }\r\n//                        }, 1300);\r\n//                        //\r\n//                    } else {\r\n//                        Toast.makeText(QuenMatKhauActivity.this, \"Mật khẩu không khớp\", Toast.LENGTH_SHORT).show();\r\n//                    }\r\n//\r\n//\r\n//                } else\r\n                    Toast.makeText(QuenMatKhauActivity.this, \"Nhập thông tin chưa hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void QuenMatKhau() {\r\n        tvTieuDe = findViewById(R.id.tvTieuDe);\r\n        edtTenTaiKhoan = findViewById(R.id.edtTenTaiKhoan);\r\n        edtEmail = findViewById(R.id.edtEmail);\r\n        edtSoDienThoai = findViewById(R.id.edtSoDienThoai);\r\n        tilMatKhauHienTai = findViewById(R.id.tilMatKhauHienTai);\r\n        tvMatKhauHienTai = findViewById(R.id.tvMatKhauHienTai);\r\n        edtMatKhau = findViewById(R.id.edtMatKhau);\r\n        edtNhapLaiMatKhau = findViewById(R.id.edtNhapLaiMatKhau);\r\n        btnQuenMatKhau = findViewById(R.id.btnQuenMatKhau);\r\n        tvTenTaiKhoan = findViewById(R.id.tvTenTaiKhoan);\r\n        tvEmail = findViewById(R.id.tvEmail);\r\n        tvSoDienThoai = findViewById(R.id.tvSoDienThoai);\r\n        tvMatKhau = findViewById(R.id.tvMatKhau);\r\n        tvNhapLaiMatKhau = findViewById(R.id.tvNhapLaiMatKhau);\r\n        tvTieuDe.setText(\"Forgot password\");\r\n        tilMatKhauHienTai.setVisibility(View.GONE);\r\n        tvMatKhauHienTai.setVisibility(View.GONE);\r\n        edtTenTaiKhoan.setVisibility(View.VISIBLE);\r\n        tvTenTaiKhoan.setVisibility(View.VISIBLE);\r\n        edtEmail.setVisibility(View.VISIBLE);\r\n        tvEmail.setVisibility(View.VISIBLE);\r\n        edtSoDienThoai.setVisibility(View.VISIBLE);\r\n        tvSoDienThoai.setVisibility(View.VISIBLE);\r\n\r\n        // kiểm tra nhập hợp lệ\r\n        final String checkTenTaiKhoan = \"[a-zA-Z0-9+]{6,50}\";\r\n        final String checkSoDienThoai = \"0[2-9]\\\\d{8}\";\r\n        final String checkEmail = \"[a-zA-Z0-9.]+@[a-z]+(\\\\.+[a-z]+){1,2}\";\r\n        final String checkMatKhau = \"[a-zA-Z0-9+]{6,300}\";\r\n        final boolean[] kiemTra = new boolean[5];\r\n        int i = 0;\r\n        while (i < 5) {\r\n            kiemTra[i] = false;\r\n            i++;\r\n        }\r\n        edtTenTaiKhoan.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkTenTaiKhoan)) {\r\n                    tvTenTaiKhoan.setText(\"\");\r\n                    tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[0] = true;\r\n                } else {\r\n                    tvTenTaiKhoan.setText(getResources().getString(R.string.err_ten_tai_khoan));\r\n                    tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[0] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtEmail.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkEmail)) {\r\n                    tvEmail.setText(\"\");\r\n                    tvEmail.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[1] = true;\r\n                } else {\r\n                    tvEmail.setText(\"Email chưa hợp lệ\");\r\n                    tvEmail.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[1] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtSoDienThoai.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkSoDienThoai)) {\r\n                    tvSoDienThoai.setText(\"\");\r\n                    tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[2] = true;\r\n                } else {\r\n                    tvSoDienThoai.setText(\"Chưa hợp lệ\");\r\n                    tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorOrange));\r\n                    kiemTra[2] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtMatKhau.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkMatKhau)) {\r\n                    tvMatKhau.setText(\"\");\r\n                    tvMatKhau.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[3] = true;\r\n                } else {\r\n                    tvMatKhau.setText(getResources().getString(R.string.err_mat_khau));\r\n                    tvMatKhau.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[3] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        edtNhapLaiMatKhau.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                if (s.toString().matches(checkMatKhau) && s.toString().equals(edtMatKhau.getText().toString())) {\r\n                    tvNhapLaiMatKhau.setText(\"\");\r\n                    tvNhapLaiMatKhau.setTextColor(getResources().getColor(R.color.colorSuccess));\r\n                    kiemTra[4] = true;\r\n                } else {\r\n                    tvNhapLaiMatKhau.setText(\"Chưa khớp mật khẩu\");\r\n                    tvNhapLaiMatKhau.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                    kiemTra[4] = false;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable s) {\r\n\r\n            }\r\n        });\r\n        //\r\n        btnQuenMatKhau.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (kiemTra[0] && kiemTra[1] && kiemTra[2] && kiemTra[3] && kiemTra[4]) {\r\n                    String tenTaiKhoan, email, soDienThoai, matKhau, nhapLaiMatKhau;\r\n                    tenTaiKhoan = edtTenTaiKhoan.getText().toString().trim();\r\n                    email = edtEmail.getText().toString().trim();\r\n                    soDienThoai = edtSoDienThoai.getText().toString().trim();\r\n                    matKhau = edtMatKhau.getText().toString().trim();\r\n                    nhapLaiMatKhau = edtNhapLaiMatKhau.getText().toString().trim();\r\n                    if (matKhau.equals(nhapLaiMatKhau)) {\r\n                        dbFirebase.KiemTraTaiKhoan(tenTaiKhoan, email, soDienThoai);\r\n                        //\r\n                        final Dialog dialog = new Dialog(QuenMatKhauActivity.this);\r\n                        dialog.setContentView(R.layout.dialog_loading);\r\n                        TextView tvTinhTrang = dialog.findViewById(R.id.tvTinhTrang);\r\n                        tvTinhTrang.setText(\"Processing...\");\r\n                        dialog.show();\r\n                        new CountDownTimer(1300, 100) {\r\n                            @Override\r\n                            public void onTick(long millisUntilFinished) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void onFinish() {\r\n                                dialog.dismiss();\r\n                            }\r\n                        }.start();\r\n                        //\r\n                        new Handler().postDelayed(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                if (xacNhanTaiKhoan == 0) {\r\n                                    Toast.makeText(QuenMatKhauActivity.this, \"OK men\", Toast.LENGTH_SHORT).show();\r\n                                    edtTenTaiKhoan.setEnabled(false);\r\n                                    edtEmail.setEnabled(false);\r\n                                    edtSoDienThoai.setEnabled(false);\r\n                                    dbFirebase.DoiMatKhau(idTaiKhoanQMK, matKhau);\r\n                                    finish();\r\n                                } else {\r\n                                    if (xacNhanTaiKhoan == 1) {\r\n                                        tvTenTaiKhoan.setText(\"Sai tên tài khoản\");\r\n                                        tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                                    }\r\n                                    if (xacNhanTaiKhoan == 2) {\r\n                                        tvEmail.setText(\"Sai email\");\r\n                                        tvEmail.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                                    }\r\n                                    if (xacNhanTaiKhoan == 3) {\r\n                                        tvSoDienThoai.setText(\"Sai số điện thoại\");\r\n                                        tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorOrange));\r\n                                    }\r\n                                    if (xacNhanTaiKhoan == -1) {\r\n                                        tvTenTaiKhoan.setText(\"Kiểm tra lại thông tin\");\r\n                                        tvTenTaiKhoan.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                                        tvEmail.setText(\"Kiểm tra lại thông tin\");\r\n                                        tvEmail.setTextColor(getResources().getColor(R.color.colorDanger));\r\n                                        tvSoDienThoai.setText(\"Kiểm tra lại thông tin\");\r\n                                        tvSoDienThoai.setTextColor(getResources().getColor(R.color.colorOrange));\r\n//                                        Toast.makeText(QuenMatKhauActivity.this, \"Không tìm thấy tài khoản :(\", Toast.LENGTH_SHORT).show();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }, 1300);\r\n                        //\r\n                    } else {\r\n                        Toast.makeText(QuenMatKhauActivity.this, \"Mật khẩu không khớp\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n\r\n                } else\r\n                    Toast.makeText(QuenMatKhauActivity.this, \"Nhập thông tin chưa hợp lệ\", Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        finish();\r\n    }\r\n}\r\n\r\n//    private boolean KiemTraXacThucTaiKhoan(String tenTaiKhoan, String email, String soDienThoai) {\r\n//        int i = 0;\r\n//        while (i < taiKhoanArrayList.size()) {\r\n//            if (tenTaiKhoan.equals(taiKhoanArrayList.get(i).getTenTaiKhoan()) && email.equals(taiKhoanArrayList.get(i).getEmail()) && soDienThoai.equals(taiKhoanArrayList.get(i).getSoDienThoai())) {\r\n//                return true;\r\n//            }\r\n//            i++;\r\n//        }\r\n//        return false;\r\n//    }\r\n\r\n\r\n//                    if (xacNhan) {\r\n//                        if (matKhau.equals(nhapLaiMatKhau)) {\r\n//                            Toast.makeText(QuenMatKhauActivity.this, \"Thông tin xác nhận OK\", Toast.LENGTH_SHORT).show();\r\n//                            dbFirebase.DoiMatKhau(tenTaiKhoan, email, matKhau);\r\n//                            // tạm ngưng tại chỗ này, đổi pass\r\n////                        asd;\r\n//                            //\r\n//                        } else {\r\n//                            tvMatKhau.setText(\"NOT OK\");\r\n//                            tvMatKhau.setTextColor(getResources().getColor(R.color.colorDanger));\r\n//                            tvNhapLaiMatKhau.setText(\"NOT OK\");\r\n//                            tvNhapLaiMatKhau.setTextColor(getResources().getColor(R.color.colorDanger));\r\n//                            kiemTra[3] = false;\r\n//                            kiemTra[4] = false;\r\n//                        }\r\n//\r\n//                    } else\r\n//                        Toast.makeText(QuenMatKhauActivity.this, \"Thông tin xác nhận chưa đúng\", Toast.LENGTH_SHORT).show();
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/tinnhn/taikhoan/QuenMatKhauActivity.java	(revision 83f5b621705e991b771421bb62f03ee1aaaf5698)
+++ app/src/main/java/com/example/tinnhn/taikhoan/QuenMatKhauActivity.java	(date 1606655172407)
@@ -37,7 +37,8 @@
         getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);
         setContentView(R.layout.activity_quen_mat_khau);
         Intent intent = getIntent();
-        boolean qMK = intent.getExtras().getBoolean("QMK");
+        boolean qMK = false;
+        qMK = intent.getExtras().getBoolean("QMK");
         Toast.makeText(this, "" + qMK, Toast.LENGTH_SHORT).show();
         if (qMK) {
             QuenMatKhau();
